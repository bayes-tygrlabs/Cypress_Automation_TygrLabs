{
  "stats": {
    "suites": 1,
    "tests": 1,
    "passes": 1,
    "pending": 0,
    "failures": 0,
    "start": "2025-11-12T11:57:57.037Z",
    "end": "2025-11-12T11:59:42.130Z",
    "duration": 105093,
    "testsRegistered": 1,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "67e323ea-c9ed-4d43-9596-05872db3b18a",
      "title": "",
      "fullFile": "cypress/e2e/RegressionScript.js",
      "file": "cypress/e2e/RegressionScript.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "b01fd48c-9d2d-4b21-a387-7cd9c04449ff",
          "title": "Regression Test",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "should complete the entire ride booking workflow including login, passenger info, reservation, dispatch, sending emails and status updates",
              "fullTitle": "Regression Test should complete the entire ride booking workflow including login, passenger info, reservation, dispatch, sending emails and status updates",
              "timedOut": null,
              "duration": 103749,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "let iteration = 0; //Give index number from the example.json.data\ncy.visit('https://rc.synq7.com/');\n//Reservation Creation\\\\\n// Login process\ncy.get('.input-container > .ng-pristine', {\n  timeout: 40000\n}).type('bayes@test.com');\ncy.get('.custom-btn').click();\ncy.get('#Password', {\n  timeout: 40000\n}).type('Bayestest25@');\ncy.get('.custom-btn', {\n  timeout: 40000\n}).click({\n  force: true\n});\ncy.url({\n  timeout: 40000\n}).should('include', 'dispatch/dashboard');\ncy.wait(2000);\ncy.wait(3000);\ncy.get('span.btn-text', {\n  timeout: 10000\n}).click({\n  force: true\n});\n//Filling Up Passenger Info\ncy.get(':nth-child(1) > .booking-info-cards > .front-side > .form-group > .booking-search__left > .input-group > .form-control', {\n  timeout: 40000\n}).should('be.enabled').click().type('Bayes RideCentric');\ncy.get(':nth-child(1) > .booking-info-cards > .front-side > .form-group > .booking-search__left > .input-group > #basic-addon2', {\n  timeout: 40000\n}).should('be.visible').click();\n// Click the final button\ncy.get(':nth-child(1) > :nth-child(7) > .btn-success-main', {\n  timeout: 40000\n}).click();\n//Filling reservation details \ncy.get('.ngb-dp-today > .btn-light', {\n  timeout: 40000\n}).click();\ncy.get(':nth-child(5) > .time-link', {\n  timeout: 40000\n}).click();\ncy.get(':nth-child(11) > .time-link', {\n  timeout: 40000\n}).click();\ncy.get(':nth-child(2) > .time-zoon-link', {\n  timeout: 40000\n}).click();\ncy.get('.set-time-btn', {\n  timeout: 40000\n}).click();\ncy.get('.ng-dropdown-panel-items', {\n  timeout: 40000\n}).contains('3').click();\ncy.get('.ng-dropdown-panel-items', {\n  timeout: 40000\n}).contains('2').click();\ncy.fixture('example.json').then(data => {\n  // Get the current set of data based on iteration\n  const entry = data[iteration % data.length];\n  cy.get('#ReservationAddress0').type(entry.pickup_location);\n  cy.wait(2000);\n  cy.get('#ReservationAddress0').type('{downarrow}').type('{enter}');\n  cy.wait(2000);\n  cy.get('#ReservationAddress1').type(entry.dropoff_location);\n  cy.wait(2000);\n  cy.get('#ReservationAddress1').type('{downarrow}').type('{enter}');\n  cy.wait(3000);\n  //Click on Show Vehicle Button\n  cy.get('.btn', {\n    timeout: 40000\n  }).should('be.enabled').click({\n    force: true\n  });\n  //Click on desired vehicle\n  cy.get('.vehicle-details', {\n    timeout: 40000\n  }).contains(new RegExp(`^${entry.vehicle}$`)).click();\n});\n//Confirm Ride Button\ncy.get(':nth-child(4) > .justify-content-between', {\n  timeout: 40000\n}).click();\n//Click on Reserve Button\ncy.get('.res_btn_group > :nth-child(2)', {\n  timeout: 40000\n}).click();\n//ACH\ncy.get('#PaymentMethod', {\n  timeout: 40000\n}).should('be.visible').select('AH', {\n  force: true\n}).should('have.value', 'AH');\ncy.get('button.bbtn.btn-small', {\n  timeout: 40000\n}).click();\n// //Credit Card\n// cy.get('#PassengerCard', { timeout: 40000 })\n// .should('be.visible')\n// .select('25110001', { force: true });\n// cy.get('.bbtn', { timeout: 40000 }).click()\n//Retrieving Reservation Number\ncy.get('h3.mt-20', {\n  timeout: 40000\n}).invoke('text').then(text => {\n  const reservationNumber = text.match(/\\d+/)[0];\n  cy.log('Reservation Number:', reservationNumber);\n  console.log('Reservation Number:', reservationNumber);\n  // Store reservationNumber as an alias to use later\n  cy.wrap(reservationNumber).as('reservationNumber');\n});\n// Click on Dispatch Button after reservation\ncy.get('.d-flex > [routerlink=\"/ride/dispatch/dashboard\"]', {\n  timeout: 60000\n}).should('be.visible').click({\n  force: true\n});\n//Click Find Ride\ncy.get('.inner-scroller > :nth-child(2) > :nth-child(2) > a', {\n  timeout: 60000\n}).click({\n  force: true\n});\n// Get the reservationNumber from reservation page and use it in the next commands\ncy.get('@reservationNumber', {\n  timeout: 40000\n}).then(reservationNumber => {\n  cy.get(':nth-child(2) > :nth-child(2) > .form-group > .form-control', {\n    timeout: 40000\n  }).type(reservationNumber);\n  cy.get('#ngb-typeahead-3-0', {\n    timeout: 40000\n  }).click();\n  cy.get('.btn', {\n    timeout: 40000\n  }).click();\n});\n//Functionalities Check After Booking Reservations\\\\\ncy.wait(5000);\n//Accept Ride\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).click();\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).rightclick();\ncy.wait(2000);\ncy.contains('Accept Ride', {\n  timeout: 40000\n}).click();\ncy.contains('Are you sure, you want to accept 1 ride?', {\n  timeout: 40000\n}).should('be.visible');\ncy.contains('Yes', {\n  timeout: 40000\n}).click();\n//Assign | Dispatch\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).click();\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).rightclick();\ncy.contains('Assign | Dispatch', {\n  timeout: 40000\n}).click();\n//Assign Affiliate\ncy.get('.pl-20 > .form-group > .ng-select-searchable > .ng-select-container > .ng-value-container > .ng-input > input', {\n  timeout: 40000\n}).click(); // Click to open the dropdown\ncy.wait(2000);\ncy.get('.ng-dropdown-panel .ng-option', {\n  timeout: 40000\n}) // Wait for dropdown options\n.first() // Select the first option\n.click();\ncy.wait(2000);\n//Assign Chauffeur\ncy.get('.dis_grid > .form-group > .ng-select-searchable > .ng-select-container > .ng-arrow-wrapper', {\n  timeout: 40000\n}).click();\ncy.wait(2000);\ncy.get('.ng-dropdown-panel .ng-option', {\n  timeout: 40000\n}) // Wait for dropdown options\n.first() // Select the first option\n.click();\n//Click on Dispatch Button\ncy.get('container-element > .d-flex > :nth-child(2)', {\n  timeout: 40000\n}).click();\n//Confirm sending email to affiliate\ncy.get('.modal-transparent__btn', {\n  timeout: 40000\n}).click();\n//Send Chauffeur Link\ncy.wait(3000);\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).click();\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).rightclick();\ncy.contains('Send Chauffeur Link', {\n  timeout: 40000\n}).click();\n//Inputting country code and number\ncy.get('.CountryOptionItem', {\n  timeout: 40000\n}).click();\ncy.get('.select2-search__field', {\n  timeout: 40000\n}).type('Bangladesh').type('{enter}');\ncy.get('.CountryNumberInput', {\n  timeout: 40000\n}).clear().type('01744820559');\n//If an email already exists, clear it out. If not, just skip this step\ncy.get('body').then($body => {\n  // Check if the element exists in the body\n  if ($body.find('.chip > .ss-close').length > 0) {\n    // If the element exists\n    cy.get('.chip > .ss-close').click(); // Click the element\n  }\n});\n// Inputting Email Address\ncy.get('#receiverEmailId', {\n  timeout: 40000\n}).clear().type('bayesridecentric@gmail.com');\ncy.get('.btn', {\n  timeout: 40000\n}).click();\ncy.wait(3000);\ncy.log('Chauffeur Link Has Been Sent');\n//Click on the reservation\ncy.wait(2000);\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).click();\ncy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n  timeout: 40000\n}).rightclick();\n//Taking mouse hover to mail section\ncy.get('[ngbtooltip=\"Send Mail/SMS\"]', {\n  timeout: 40000\n}).trigger('mouseenter'); // Move the cursor to the element\n// Pax Ride Confirmation\ncy.contains('a', 'Pax Ride Confirmation', {\n  timeout: 40000\n}).click({\n  force: true\n}); // Force click even if not visible\ncy.get('select[formcontrolname=\"MailFormat\"]').select('HTML-PDF');\ncy.get('form.ng-untouched.ng-valid > :nth-child(1) > :nth-child(2) > .tile > .p-20 > .d-flex > .btn-medium', {\n  timeout: 40000\n}).click();\n// Affiliate Ride Order\ncy.contains('a', 'Affiliate Ride Order', {\n  timeout: 40000\n}).click({\n  force: true\n}); // Force click even if not visible\n// Get the email input field\nconst emailInput = cy.get('#receiverEmailId');\n// Check if the chip (existing email) exists\n// cy.get('.chip-input-container').find('.chip').then(($chips) => {\n//   if ($chips.length > 0) {\n//     // If the chip exists, click on the close icon to remove the email\n//     cy.get('.chip-input-container > :nth-child(1) > .ss-close').click();\n//   }\n//   // Now type the new email in the input field\ncy.get('#receiverEmailId').type('bayesridecentric@gmail.com');\n// });\n// cy.get('.chip-input-container').find('.chip').then(($chips) => {\n//   if ($chips.length > 0) {\n//     // If the chip exists, click on the close icon to remove the email\n//     cy.get('.chip-input-container > :nth-child(1) > .ss-close').click({ force: true });\n//   } else {\n//     // If no chip exists, type the new email directly\n//     cy.get('#receiverEmailId').type('bayesridecentric@gmail.com', { force: true });\n//   }\n// });\ncy.wait(3000);\ncy.get('.btn-medium', {\n  timeout: 40000\n}).click();\ncy.log('Affiliate Ride Order Email Has Been Sent');\n// //Status Change\nfunction waitForLoaderToDisappear() {\n  cy.get('.spinner', {\n    timeout: 60000\n  }).should('not.exist');\n  cy.get('#divpreloader.preloader.show', {\n    timeout: 60000\n  }).should('not.exist');\n  // Retry mechanism in case the loader reappears after some time\n  cy.wait(500); // Buffer time\n  cy.get('body').then($body => {\n    if ($body.find('#divpreloader.preloader.show').length > 0) {\n      cy.get('#divpreloader.preloader.show', {\n        timeout: 60000\n      }).should('not.exist');\n    }\n  });\n}\n// Function to safely update status\nfunction updateStatus(statusSelector) {\n  waitForLoaderToDisappear(); // Ensure the page is stable\n  cy.get('.tabulator-row > [tabulator-field=\"ResStatus\"]', {\n    timeout: 50000\n  }).should('be.visible').should('not.be.disabled').as('statusCell');\n  cy.get('@statusCell').click();\n  cy.wait(500); // Allow UI to update\n  cy.get('@statusCell').rightclick();\n  cy.contains('Status Update', {\n    timeout: 50000\n  }).click();\n  cy.get(statusSelector, {\n    timeout: 50000\n  }).click();\n  waitForLoaderToDisappear(); // Ensure the UI is fully ready before next action\n}\n// Status Change Sequence\nupdateStatus(':nth-child(3) > .res-stat-btn > .text'); // Ride Accepted\nupdateStatus(':nth-child(5) > .res-stat-btn > .text'); // Enroute\nupdateStatus(':nth-child(7) > .res-stat-btn > .text'); // On-site\nupdateStatus(':nth-child(9) > .res-stat-btn > .text'); // On-Board\nupdateStatus(':nth-child(11) > .res-stat-btn > .text'); // Complete\n// //Navigate to settings and Click on Archive Res\n// cy.get('.ss-settings', { timeout: 50000 }).click()\n// cy.contains('a', 'Archive Res', { timeout: 50000 }).click();\n// cy.get('form.ng-untouched > :nth-child(1) > :nth-child(2) > :nth-child(1) > .form-group > .form-control', { timeout: 40000 }).click()\n// cy.get('select[title=\"Select year\"]', { timeout: 40000 }).select('2027');\n// cy.contains('div.btn-light', '25', { timeout: 40000 }).click();\n// cy.get('@reservationNumber', { timeout: 10000 }).then((reservationNumber) => {\n//   cy.get(':nth-child(3) > .form-group > .form-control', { timeout: 10000 }).click().type(reservationNumber);\n//   cy.get('.row.align-items-center > .d-flex > .btn', { timeout: 10000 }).click();\n// });\n// cy.wait(5000);\n// cy.get('tbody > tr > :nth-child(1)', { timeout: 40000 }).click()\n// cy.wait(5000);\n// cy.get(':nth-child(1) > .d-flex > .btn', { timeout: 40000 }).click()\n// cy.wait(5000);\n// cy.get('.modal-primary__btn', { timeout: 40000 }).click()\n// cy.wait(10000);\n//Archive the ride using API calls\ncy.get('@reservationNumber').then(reservationNumber => {\n  cy.request({\n    method: 'POST',\n    url: 'https://rc.synq7.com/api/archive/saveresarchive',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IkJheWVzIiwiUm9sZUlkIjoiMSIsIlVzZXJSb2xlSWQiOiIxIiwiVXNlclR5cGUiOiJTQSIsIlVzZXJJZCI6IkJBWUVTIiwiU3ViRG9tYWluIjoicmMiLCJIb3N0IjoiaHR0cHM6Ly9yYy5zeW5xNy5jb20iLCJTY2hlbWUiOiJodHRwczovLyIsIk15Q2l0eSI6IkRoYWthIiwiTXlPZmZzZXQiOiIyMTYwMCIsIlRoZW1lQ29sb3IiOiIjMDA4MDAwIiwiQ29tQ29kZSI6IlJDMDAxIiwiSWQiOiJkZjg2NmYyZC0zYWIxLTQ2Y2ItOGFjZi1hY2Q5YTI0YTU5OGUiLCJEZXZpY2VJZCI6IjJmNzhiZmE2OTUyZjRmMzBiNTAwZDRhYjViMDU1OWE4IiwiVXNlclByaXZpbGVnZSI6IlNVUCIsIkFjY291bnRDb2RlIjoiIiwibmJmIjoxNzYyMzIzODIwLCJleHAiOjE3NjMxODc4MjAsImlzcyI6ImF6aXp1ckByZWRsaW1lc29sdXRpb25zLmNvbSIsImF1ZCI6ImF6aXp1ckByZWRsaW1lc29sdXRpb25zLmNvbSJ9.5uROSU2H8tqol3jd-FL-jWXKtVlCeAkiAZa4SVre_Vw'\n    },\n    body: {\n      GoFor: \"CUR\",\n      StartDate: \"\",\n      EndDate: \"2027-11-05\",\n      SearchText: `{\"ReservationId\":\"${reservationNumber}\",\"Account\":null,\"Passenger\":null}`\n    },\n    failOnStatusCode: false\n  }).then(response => {\n    cy.log('API Response:', JSON.stringify(response.body));\n    // âœ… Assertions\n    expect(response.status).to.eq(200);\n    expect(response.body).to.have.property('Msg', 'Ride archived successfully!!');\n    expect(response.body).to.have.property('Success', 'Y');\n    expect(response.body).to.have.property('Data', '');\n  });\n});\n//Navigate to Ride Closeout and Continue the Process\ncy.contains('a', 'Ride Closeout', {\n  timeout: 40000\n}).click();\ncy.get('.ss-download', {\n  timeout: 40000\n}).click();\ncy.get('.col-12 > .btn', {\n  timeout: 40000\n}).click();\ncy.get('@reservationNumber', {\n  timeout: 40000\n}).then(reservationNumber => {\n  // cy.get('input[placeholder=\"res, pax, account\"]', { timeout: 40000 }).click().type(reservationNumber).type('{enter}');\n  cy.get('input[placeholder=\"res, pax, account\"]', {\n    timeout: 40000\n  }).click().type(reservationNumber, {\n    delay: 500\n  }) // Adjust delay as needed\n  .type('{enter}');\n  cy.wait(3000);\n});\ncy.get('.tabulator-row > [tabulator-field=\"ResNoLive\"]', {\n  timeout: 40000\n}).dblclick();\n//Billing Info (Cost Finalizing and Save)\ncy.get(':nth-child(6) > :nth-child(1) > div.form-switch > .switch-wrapper > .ng-untouched', {\n  timeout: 40000\n}).click();\ncy.wait(2000);\ncy.get('.pl-20 > .btn', {\n  timeout: 40000\n}).click({\n  force: true\n});\n// cy.get('.chip-input-container > :nth-child(2) > .ss-close', { timeout: 40000 }).click()\n// cy.get('.p-20 > .d-flex > .btn', { timeout: 40000 }).click()\ncy.contains('a', 'Dispatch', {\n  timeout: 40000\n}).click({\n  force: true\n});",
              "err": {},
              "uuid": "180c6402-79f6-4712-bf8d-38a1e3895810",
              "parentUUID": "b01fd48c-9d2d-4b21-a387-7cd9c04449ff",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "180c6402-79f6-4712-bf8d-38a1e3895810"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 103749,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/reports/json",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.3.2"
    }
  }
}